<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
    Software Matters!
        - Sum Types
    </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Mark Perry">
    <meta name="description" content="Static blog generated with JBake">

    <!-- Style -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootswatch/3.1.1/yeti/bootstrap.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
    <link rel="stylesheet" href="/css/base.css">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav icon -->
    <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/img/favicon.ico" type="image/x-icon">
  </head>
  <body>      
    <nav class="navbar navbar-default navbar-fixed-top " role="navigation">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">Software Matters!</a>
        </div>
        
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
			<li><a href="/">Home</a></li>
			<li><a href="/pages/about.html">About</a></li>
			<li><a href="/pages/bio.html">Author</a></li>
			<li><a href="/archive.html">Archive</a></li>

          </ul>
        
        <!-- Right navigation -->
        <ul class="nav navbar-nav navbar-right">

          <li><a href="/feed.xml" title="Rss"><i class="fa fa-rss"></i> Feed</a></li>
        </ul>
        <!-- Right navigation end -->

      </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav><!-- /.navbar -->

    <!-- Begin page content -->
    <div class="container">
      
      <div class="row">
        <div class="col-md-12">
          <article>
            <div class="page-header"><h1>Sum Types</h1>
              <ol class="breadcrumb tagsbar">
                <li><a href="/tags/type.html">type</a></li>
                <li><a href="/tags/type-theory.html">type-theory</a></li>
                <li><a href="/tags/sum-type.html">sum-type</a></li>
              </ol>
            </div>
          <p class="post-meta">
            <i class="fa fa-calendar"></i>&nbsp;18 May 2012&nbsp;&nbsp;
            <i class="fa fa-user"></i>&nbsp;Mark Perry&nbsp;&nbsp;
              <i class="fa fa-comment"></i>&nbsp;<span class="badge"><a href="http://mperry.github.io2012/05/18/sum-types.html#disqus_thread"></a></span>
          </p>
              <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Many data structures involve different types of data, e.g. in a tree, nodes have children but leaves do not.  The type of the value determines the structure of the data.  These types are called sum types and include the binary sum (choice of two things) and the nullary sum (the choice of no things).  Finite sums generalise these cases to an arbitrary number in a finite set and have both an eager and lazy interpretation.</p>
</div>
<!-- more -->
</div>
</div>
<div class="sect1">
<h2 id="_nullary_and_binary_sum">Nullary and Binary Sum</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all" style="width:80%; ">
<colgroup>
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Abstract Syntax</th>
<th class="tableblock halign-left valign-top">Conrete Syntax</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Typ t ::=</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">void</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">void</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nullary sum</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sum(t1;t2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">t1+t2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">binary sum</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exp e ::=</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">abort[t](e)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">abort(e)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">abort</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in[t1;t2][l](e)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">l.e</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">left injection</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in[t1;t2][r](e)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r.e</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">right injection</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">case(e; x1.e1; x2.e2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">case e {l.x &#8658; e1 or r.x &#8658; e2}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">case analysis</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>The nullary sum has a choice of zero and therefore has no values.  The value abort(e) aborts the computation in the event that e evaluates to a value, which it cannot do.  A value can be drawn from the left or the right and we can discriminate on the two choices using case analysis.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_application">Application</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Unit - The type with just one element &lt;&gt;</p>
</li>
<li>
<p>Void - The type with no elements, if e: void then e must not give a value</p>
</li>
<li>
<p>Booleans - Two state values</p>
</li>
<li>
<p>Enumerations - Case analysis over a finite set</p>
</li>
<li>
<p>Options - The type containing no value or one value.  Nulls are commonly used to represent the Option type in object oriented languages.  Tony Hoare has talked about this being his <a href="http://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare">billion dollar mistake</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Object oriented languages also often lack case analysis over finite sums, leaving the programmer to simulate this behaviour through the use of inheritance hierarchies.  However, this can force subclass specific methods to <em>bubble up</em> to the top of the inheritance tree, violating type safety.</p>
</div>
</div>
</div></p>
      <div class="share">
  <!-- Facebook -->
          <a href="http://www.facebook.com/sharer.php?u=http://mperry.github.io2012/05/18/sum-types.html" target="_blank"><img src="/img/sharebuttons/facebook.png" alt="Facebook" /></a>
  <!-- Google+ -->
          <a href="https://plus.google.com/share?url=http://mperry.github.io2012/05/18/sum-types.html" target="_blank"><img src="/img/sharebuttons/google_plus.png" alt="Google" /></a>
  <!-- Twitter -->
          <a href="http://twitter.com/share?url=http://mperry.github.io2012/05/18/sum-types.html&text=Sum Types mperry.github.io2012/05/18/sum-types.html" target="_blank"><img src="/img/sharebuttons/twitter.png" alt="Twitter" /></a>
      </div>
<hr>
<section class="comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'mperry'; // required: replace example with your forum shortname
  
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>            </article>
        </div> <!-- /.col-md-12 -->
      </div> <!-- /.row -->
        
      </div><!-- /.container -->

    <footer>
      <div class="container">
        <hr>
        <div class="row">
          <div class="col-xs-10">
            <p class="text-muted credit">&copy;  2014 | Mixed with <a href="http://getbootstrap.com/">Bootstrap v3.1.1</a> | Baked with <a href="http://jbake.org">JBake v2.3.0</a> | <i title="Linux" class="fa fa-linux"></i></p>
          </div>
          <div class="col-xs-2 gotop">
            <a href="#"><i class="fa fa-arrow-circle-up"> top</i></a>
          </div>
        </div>
      </div>
    </footer>

    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/1.6/gist-embed.min.js"></script>
    
    <script src="//cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
    <script type="text/javascript">
      <!-- load prettify only when needed -->
      $(document).ready(function(){
        var prettify = false;
        var classToAdd = 'prettyprint snippet';
        $("pre > code").each(function() {
          $("pre > code").parent().addClass(classToAdd);
          prettify = true;
        });
        if(prettify) {
          prettyPrint();
        }
      });
    </script>

    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'mperry'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
      }());
    </script>

        </body>
</html>
